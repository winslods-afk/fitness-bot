# üåê –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ (Railway)

–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ Railway.

## üì• –°–ø–æ—Å–æ–± 1: –°–∫–∞—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Railway CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI

```bash
# Windows (PowerShell)
iwr https://railway.app/install.ps1 -useb | iex

# –ò–ª–∏ —á–µ—Ä–µ–∑ npm
npm i -g @railway/cli
```

### –®–∞–≥ 2: –õ–æ–≥–∏–Ω –≤ Railway

```bash
railway login
```

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–µ–∫—Ç—É

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd C:\Users\Roman\fitness-bot

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Railway –≤ –ø—Ä–æ–µ–∫—Ç–µ
railway link

# –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø—Ä–æ–µ–∫—Ç—É
railway link --project YOUR_PROJECT_ID
```

### –®–∞–≥ 4: –°–∫–∞—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–∫–∞—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å —Ö–æ—Å—Ç–∏–Ω–≥–∞
railway run cat fitness_bot.db > fitness_bot_remote.db

# –ò–ª–∏ –µ—Å–ª–∏ –±–∞–∑–∞ –≤ –ø–∞–ø–∫–µ data
railway run cat data/fitness_bot.db > fitness_bot_remote.db
```

### –®–∞–≥ 5: –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ DBeaver

1. –û—Ç–∫—Ä–æ–π—Ç–µ DBeaver
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
3. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ —Å–∫–∞—á–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É: `C:\Users\Roman\fitness-bot\fitness_bot_remote.db`

---

## üîß –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Railway Dashboard (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Railway

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `fitness-bot`

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Deployments**
2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Logs** –∏–ª–∏ **Shell**

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤
ls -la

# –ï—Å–ª–∏ –±–∞–∑–∞ –≤ –∫–æ—Ä–Ω–µ
ls -la fitness_bot.db

# –ï—Å–ª–∏ –±–∞–∑–∞ –≤ –ø–∞–ø–∫–µ data
ls -la data/fitness_bot.db
```

### –®–∞–≥ 4: –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Railway –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å –±–∞–∑–æ–π
tar -czf db_backup.tar.gz fitness_bot.db

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –±–∞–∑)
cat fitness_bot.db
```

‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞:** Railway –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CLI –∏–ª–∏ —Å–ø–æ—Å–æ–± 3.

---

## üê≥ –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Docker (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker –Ω–∞ Railway:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
railway run bash

# –ù–∞–π—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
find /app -name "fitness_bot.db"

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É
cp /app/fitness_bot.db /tmp/fitness_bot.db
```

---

## üìä –°–ø–æ—Å–æ–± 4: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ –±–æ—Ç–∞ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/export_db` –≤ –±–æ—Ç–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –î–æ–±–∞–≤—å—Ç–µ –≤ handlers/start.py:

```python
@router.message(F.text == "/export_db")
async def export_db(message: Message, session: AsyncSession):
    """–≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)."""
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (–¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é –ª–æ–≥–∏–∫—É)
    ADMIN_IDS = [YOUR_TELEGRAM_ID]  # –í–∞—à Telegram ID
    
    if message.from_user.id not in ADMIN_IDS:
        await message.answer("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã.")
        return
    
    try:
        # –ß–∏—Ç–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        with open("fitness_bot.db", "rb") as db_file:
            await message.answer_document(
                document=BufferedInputFile(
                    db_file.read(),
                    filename="fitness_bot.db"
                ),
                caption="üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö"
            )
    except Exception as e:
        await message.answer(f"‚ùå –û—à–∏–±–∫–∞: {str(e)}")
```

**–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç:**
```python
from aiogram.types import BufferedInputFile
```

---

## üîç –°–ø–æ—Å–æ–± 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway Variables –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–π–¥–µ—Ç–µ –Ω–∞ PostgreSQL (Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ):

1. –í Railway –¥–æ–±–∞–≤—å—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å
2. –ü–æ–ª—É—á–∏—Ç–µ connection string
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å —á–µ—Ä–µ–∑ DBeaver –∏—Å–ø–æ–ª—å–∑—É—è PostgreSQL –¥—Ä–∞–π–≤–µ—Ä

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ DBeaver:

1. New Database Connection ‚Üí PostgreSQL
2. Host: –∏–∑ connection string
3. Port: –∏–∑ connection string
4. Database: –∏–∑ connection string
5. Username/Password: –∏–∑ connection string

---

## üìã –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

### –ß–µ—Ä–µ–∑ Railway CLI:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm i -g @railway/cli

# 2. –í–æ–π–¥–∏—Ç–µ
railway login

# 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd C:\Users\Roman\fitness-bot

# 4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link

# 5. –°–∫–∞—á–∞–π—Ç–µ –±–∞–∑—É
railway run cat fitness_bot.db > fitness_bot_remote.db

# 6. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ DBeaver
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SQLite ‚Üí —É–∫–∞–∂–∏—Ç–µ fitness_bot_remote.db
```

---

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `view_db_remote.py` –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Railway:

```python
# view_db_remote.py
import asyncio
from app.db.init_db import async_session_maker
from app.db.models import User, Session
from sqlalchemy import select

async def view():
    async with async_session_maker() as session:
        result = await session.execute(select(User))
        users = result.scalars().all()
        print(f"Users: {len(users)}")
        for user in users:
            print(f"  - {user.telegram_id}")

if __name__ == "__main__":
    asyncio.run(view())
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ Railway:
```bash
railway run python view_db_remote.py
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ Railway CLI
3. **–î–ª—è –∞–Ω–∞–ª–∏–∑–∞:** –°–∫–∞—á–∏–≤–∞–π—Ç–µ –±–∞–∑—É –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤ DBeaver
4. **–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Git

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **–ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –±–∞–∑—É –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** –Ω–∞–ø—Ä—è–º—É—é
- **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏** –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

---

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∑–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ –µ—ë –≤ DBeaver –ª–æ–∫–∞–ª—å–Ω–æ.

