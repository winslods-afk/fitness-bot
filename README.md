# Telegram-–±–æ—Ç "–§–∏—Ç–Ω–µ—Å" (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ —Ä–∞–±–æ—á–∏—Ö –≤–µ—Å–æ–≤)

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–±–æ—á–∏—Ö –≤–µ—Å–æ–≤. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º aiogram 3.x –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–¥–æ 2 –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- ‚úÖ –ì–∏–±–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –≤–µ—Å–æ–≤
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python -m app.main
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:

```bash
python app/main.py
```

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

```bash
docker-compose up -d
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

```bash
docker-compose logs -f
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
docker-compose down
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ bot.py               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª–∏ –ë–î (SQLAlchemy)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crud.py          # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ init_db.py       # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py         # –ö–æ–º–∞–Ω–¥—ã /start, /help, /myprograms
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ add_program.py   # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delete_program.py # –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ training.py      # –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser.py        # –ü–∞—Ä—Å–µ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats.py         # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ keyboards.py     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ       ‚îî‚îÄ‚îÄ messages.py      # –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SQLAlchemy —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –¥–≤–∏–∂–∫–æ–º** (aiosqlite) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite.

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞

**SQLAlchemy async** –≤—ã–±—Ä–∞–Ω –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:
- ‚úÖ –ó—Ä–µ–ª–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –æ—Ç–ª–∏—á–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ –•–æ—Ä–æ—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å aiogram (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—Ç–∏–ª—å)
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ë–î (–ª–µ–≥–∫–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Alembic (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (Tortoise ORM)** –Ω–µ –≤—ã–±—Ä–∞–Ω–∞, —Ç–∞–∫ –∫–∞–∫:
- –ú–µ–Ω–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞ –∏ –∏–º–µ–µ—Ç –º–µ–Ω—å—à—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É
- SQLAlchemy –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –∏ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞
- **sessions** ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **workout_days** ‚Äî –¥–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **exercises** ‚Äî —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- **sets** ‚Äî –ø–æ–¥—Ö–æ–¥—ã (—à–∞–±–ª–æ–Ω—ã)
- **session_runs** ‚Äî –∑–∞–ø—É—Å–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **performed_sets** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã —Å –≤–µ—Å–∞–º–∏

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤ —Ñ–∞–π–ª–µ `fitness_bot.db`.

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- [DB Browser for SQLite](https://sqlitebrowser.org/)
- –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: `sqlite3 fitness_bot.db`
- –ö–æ–º–∞–Ω–¥–∞ –±–æ—Ç–∞ `/export_db` (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ Railway

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω–∞ Railway –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Volume (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ), —á—Ç–æ–±—ã –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å –º–µ–∂–¥—É –¥–µ–ø–ª–æ—è–º–∏.

**–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ CLI:**
```bash
railway service  # –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å "web"
railway volume add --mount-path /data
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- [CREATE_VOLUME_STEPS.md](CREATE_VOLUME_STEPS.md) - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [RAILWAY_PERSISTENT_STORAGE.md](RAILWAY_PERSISTENT_STORAGE.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [VERIFY_VOLUME.md](VERIFY_VOLUME.md) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã volume

**–í–∞–∂–Ω–æ:** –ë–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ volume –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ!

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/restart` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (—Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π)
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/myprograms` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤–∞—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

1. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É"
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –¥–Ω–µ–π (1-7)
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–°–ø–∏–Ω–∞", "–ì—Ä—É–¥—å")
4. –î–æ–±–∞–≤—å—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤:
   - `–ì–∞–∫–∫-–ø—Ä–∏—Å–µ–¥ ‚Äî 20-16-14-12`
   - `–ñ–∏–º –ª—ë–∂–∞ ‚Äî 4—Ö10`
   - `–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è ‚Äî 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 —Ä–∞–∑`
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/done` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –¥–ª—è –¥–Ω—è
6. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –ü–∞—Ä—Å–∏–Ω–≥ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞:

1. **–°–ø–∏—Å–æ–∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π**: `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî 20-16-14-12`
   - –°–æ–∑–¥–∞—ë—Ç 4 –ø–æ–¥—Ö–æ–¥–∞: 20, 16, 14, 12 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

2. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥–æ–≤ √ó –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è**: `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî 4—Ö10` –∏–ª–∏ `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî 4x10`
   - –°–æ–∑–¥–∞—ë—Ç 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

3. **–¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç**: `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 —Ä–∞–∑`
   - –°–æ–∑–¥–∞—ë—Ç 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

4. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π**: `–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Äî 4x10, 3x8`
   - –°–æ–∑–¥–∞—ë—Ç 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 –∏ 3 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 8 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

### –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

1. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É"
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –¥–µ–Ω—å
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å"
5. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤–≤–µ–¥–∏—Ç–µ –≤–µ—Å (–≤ –∫–≥)
6. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ –∏—Ç–æ–≥–æ–≤—É—é —Å–≤–æ–¥–∫—É —Å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º

### –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

1. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É"
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–∑ —Å–ø–∏—Å–∫–∞
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–∞—Ä—Å–∏–Ω–≥ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π

–ü–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:

```python
# –§–æ—Ä–º–∞—Ç "20-16-14-12"
r'^\d+(-\d+)+$'

# –§–æ—Ä–º–∞—Ç "4x10" –∏–ª–∏ "4—Ö10"
r'^\d+[x—Ö]\d+$'

# –§–æ—Ä–º–∞—Ç "4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 —Ä–∞–∑"
r'(\d+)\s+–ø–æ–¥—Ö–æ–¥[–∞-—è]*\s+–ø–æ\s+(\d+)'
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `app/services/parser.py`.

### FSM (Finite State Machine)

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FSM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:
- **AddProgramStates** ‚Äî –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **TrainingStates** ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

### Middleware

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω middleware –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏—è–º–∏ –ë–î –≤ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:
   - –í—ã–±–µ—Ä–∏—Ç–µ 3 –¥–Ω—è
   - –î–µ–Ω—å 1: "–°–ø–∏–Ω–∞"
     - `–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è ‚Äî 10-8-6`
     - `–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ ‚Äî 4—Ö8`
   - –î–µ–Ω—å 2: "–ì—Ä—É–¥—å"
     - `–ñ–∏–º –ª—ë–∂–∞ ‚Äî 4 –ø–æ–¥—Ö–æ–¥–∞ –ø–æ 10 —Ä–∞–∑`
   - –î–µ–Ω—å 3: "–ù–æ–≥–∏"
     - `–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è ‚Äî 12-10-8-6`
4. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã: "–ú–æ—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"
5. –ù–∞—á–Ω–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∏ –≤–≤–µ–¥–∏—Ç–µ –≤–µ—Å–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
sqlite3 fitness_bot.db
.tables
SELECT * FROM users;
SELECT * FROM sessions;
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `aiogram==3.13.1` ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram-–±–æ—Ç–æ–≤
- `aiosqlite==0.20.0` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è SQLite
- `sqlalchemy[asyncio]==2.0.36` ‚Äî ORM —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π async
- `python-dotenv==1.0.1` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥

### Railway (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –∑–∞ 5 –º–∏–Ω—É—Ç:**

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/YOUR_USERNAME/fitness-bot.git
   git push -u origin main
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
   - –ù–∞–∂–º–∏—Ç–µ "Start a New Project"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

3. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –í Railway Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤–∏—Å ‚Üí "Variables"
   - –î–æ–±–∞–≤—å—Ç–µ: `TELEGRAM_BOT_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω –æ—Ç @BotFather

4. **–î–æ–±–∞–≤—å—Ç–µ PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   - –ù–∞–∂–º–∏—Ç–µ "+ New" ‚Üí "Database" ‚Üí "Add PostgreSQL"
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç `DATABASE_URL`
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ PostgreSQL

5. **–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Volume –¥–ª—è SQLite:**
   - –°–æ–∑–¥–∞–π—Ç–µ volume —á–µ—Ä–µ–∑ Railway CLI:
     ```bash
     railway service  # –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å "web"
     railway volume add --mount-path /data
     ```
   - –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [CREATE_VOLUME_STEPS.md](CREATE_VOLUME_STEPS.md)

**–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è –∏ –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [DEPLOY_RAILWAY.md](DEPLOY_RAILWAY.md)

### Docker

**–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker:**

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å `TELEGRAM_BOT_TOKEN`

### –î—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞:
- **Render** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `render.yaml` –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- **Heroku** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Procfile` –∏ `runtime.txt`
- **DigitalOcean App Platform** - —á–µ—Ä–µ–∑ GitHub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- **–õ—é–±–æ–π VPS** - —á–µ—Ä–µ–∑ Docker –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —Å Python

**–í–∞–∂–Ω–æ:** –ù–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –Ω—É–∂–Ω–æ:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_BOT_TOKEN`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Volume –¥–ª—è SQLite –∏–ª–∏ PostgreSQL)
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Python 3.11+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `fitness_bot.db` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (–ë–î —Å–æ–∑–¥–∞—Å—Ç—Å—è –∑–∞–Ω–æ–≤–æ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É –ë–î
- –ù–∞ Railway: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ volume –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ `/data`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ Railway

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ volume —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–µ—Ä–≤–∏—Å—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ mount path —É–∫–∞–∑–∞–Ω –∫–∞–∫ `/data`
- –°–º. [VERIFY_VOLUME.md](VERIFY_VOLUME.md) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–µ–∂–¥—É –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (‚Äî, -, ‚Äì)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

## üë§ –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º aiogram 3.x –∏ SQLAlchemy async.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [DEPLOY_RAILWAY.md](DEPLOY_RAILWAY.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ Railway
- [CREATE_VOLUME_STEPS.md](CREATE_VOLUME_STEPS.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- [RAILWAY_POSTGRESQL_SETUP.md](RAILWAY_POSTGRESQL_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL –Ω–∞ Railway
- [DBEAVER_RAILWAY_CONNECTION.md](DBEAVER_RAILWAY_CONNECTION.md) - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ DBeaver
- [AI_SETUP.md](AI_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**–ü—Ä–∏—è—Ç–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫! üí™**

